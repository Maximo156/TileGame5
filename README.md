# Tile game 5
Taking inspiration from games like Minecraft and Terraria, this is a top-down, block-based world. It is going to be a mix between an action/adventure game, where the player explores the various biomes and structures that generate throughout the world, and a town builder where the player needs to grow and manage a town full of villagers.

# World Gen
The world is infinite, and everything in it is procedurally generated. The systems for biomes, structures, and different layers of the world are set up to be easily expandable as the game grows to allow for more interesting exploration.

## Realms
The world is separated into "Realms" which each have their own terrain generation settings. There are currently only two implemented, but I plan on adding more
### Overworld
The realm that the player starts in, with basic resources and animals. It is split up into 4 different biomes, each with their own details and animals:

<img src="https://github.com/user-attachments/assets/3b6448ac-6db8-493c-9573-387c7ec300da" width="400">
<img src="https://github.com/user-attachments/assets/71b53f1a-db37-4883-9ee6-f5593509f8bb" width="400">
<img src="https://github.com/user-attachments/assets/affb4ce0-693e-4c20-a616-92c3a21763ac" width="400">
<img src="https://github.com/user-attachments/assets/b2e78429-f6ac-49c6-92f4-d0a9b1adffea" width="400">

### Caves
Finding a cave entrance allows the player to travel to the Cave Realm. While there are better resources to be found, there are also dangers lurking in the dark

<img src="https://github.com/user-attachments/assets/4053138b-c669-4c2f-821e-a39896193a0a" width="400">
<img src="https://github.com/user-attachments/assets/2ab94ec1-4385-4807-b462-655b3b9581bc" width="400">

## World interaction
The world is a sandbox, allowing the player to break and place any blocks
<img src="https://github.com/user-attachments/assets/a9b96465-401a-4094-9f8f-ff817d3b3c7e" width="400">
<img src="https://github.com/user-attachments/assets/f29394ae-5331-451a-9492-71d6bf130b11" width="400">

## Structures
The structures are generated by a very versatile system. Individual buildings can be designed with anchors specifying which other buildings can connect (e.g., paths have some anchors that allow connections with other paths and others that allow buildings to connect). 
By specifying just a few building varieties, the system generates infinite, relatively realistic-looking structures for the player to explore.

<img src="https://github.com/user-attachments/assets/b8fea2ca-3ffd-47ed-9d74-5a1b3c7a0e10" width="400">

(This is currently the only structure type designed, but making a new one is as simple as designing the individual parts and loading them into the structure generator.)

## Lighting
I designed my own lighting system, which integrates better with the game's block-based nature than the default Unity lighting. The lighting is calculated at each block based on the surrounding blocks, allowing light to more naturally wrap around obsticals.

<img src="https://github.com/user-attachments/assets/e6460306-5ba6-4f18-a367-e7d302abffe8" width="400">
<img src="https://github.com/user-attachments/assets/46fd66cb-c5b4-4665-a8c5-75edfde07086" width="400">

Since lighting is only affected by blocks, it is much more performant as lighting updates only need to be done when block updates occur, and even then only if the update causes a change in the light value of the specific block.
Furthermore, since the lighting is saved as part of the block data, it is possible to use that information for things like enemies spawning only in darker areas.

(At some point, I would like to smooth the lighting layer so it looks less blocky)

## AI
The AI is broken into two parts, behavior and pathfinding. The behavior is a simple state machine, allowing the AI to make "decisions" based on what is happening around it. 

To maintain performance, the pathfinding is a Unity job-based, burst-compiled astar algorithm. This allows for incredibly fast, parallel computation of the different paths that the AI needs to move. The following video is 100 AI's all simultaneously running pathfinding, with a negligible impact on performance.

https://github.com/user-attachments/assets/6680ceeb-9cbe-4119-a496-7cb1f5cb3b2d

## Mechanics
There are a lot of different mechanics already implemented, such as an inventory system, stat modifiers, crafting/smelting, enchanting (infusing), and farming.

### Inventory/Stats
A simple inventory system allows the user to drag and drop items between slots in the same inventory, as well as between inventories, such as storage blocks or crafting blocks. It also triggers events that a stats broker listens for to add modifiers to the player, such as accessory buffs or temporary item effects.

https://github.com/user-attachments/assets/b5ebdee3-293c-4ea5-b5fa-088dc7ff87e8

### Crafting
A variety of crafting blocks have been implemented, each with its own UI. These include a workbench, a basic furnace, and a blast furnace. Additional ones are simple to add, only needing to specify the block sprite and a set of recipes it can craft

<img src="https://github.com/user-attachments/assets/667450cd-a3ab-491d-9ddf-f068720a2ee8" width="400">

### Farming
The player can till soil, allowing them to plant seeds that can later be harvested for food/resources.

https://github.com/user-attachments/assets/6e9978e4-b624-4a5a-8961-187a01e1a8db


### Infusion
The player can add charms to various items that change how they behave, such as adding a projectile to fire, or having the projectile split after some time to hit additional targets

https://github.com/user-attachments/assets/294e90a9-b3a0-425b-98d1-09612a409157






